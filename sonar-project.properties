# SonarQube 项目配置
# 适用于 Spring Boot 3 插件式开发框架

# 项目信息
sonar.projectKey=spring-boot3-brick-bootkit-parent
sonar.projectName=Spring Boot 3 Brick Bootkit
sonar.projectVersion=4.0.0

# 源代码目录
sonar.sources=src/main/java
sonar.sourceEncoding=UTF-8

# 排除规则
sonar.exclusions=**/target/**,**/generated/**,**/build/**,**/*.properties,**/*.xml,**/test/**

# 测试目录
sonar.tests=src/test/java
sonar.test.inclusions=**/test/**/*.java

# Java 版本
sonar.java.source=17
sonar.java.target=17

# 质量门禁
sonar.qualitygate.wait=true

# 覆盖率配置
sonar.coverage.exclusions=**/*Test.java,**/test/**/*,**/integration/**/*,**/*IT.java
sonar.scoverage.exclusions=**/*Test.java,**/test/**/*,**/integration/**/*,**/*IT.java

# 重复代码
sonar.cpd.exclusions=**/*Test.java,**/test/**/*,**/integration/**/*,**/*IT.java

# 静态分析工具配置
# SpotBugs
sonar.java.spotbugs.enabled=true
sonar.spotbugs.spotbugsXmlReportPaths=spotbugs.xml
sonar.spotbugs.excludeFilter=spotbugs-exclude.xml

# Checkstyle
sonar.java.checkstyle.enabled=true
sonar.java.checkstyle.reportPaths=checkstyle-result.xml

# PMD
sonar.java.pmd.enabled=true
sonar.java.pmd.reportPaths=pmd.xml

# Jacoco
sonar.jacoco.reportPaths=target/jacoco.exec
sonar.jacoco.itReportPath=target/jacoco-it.exec

# 注释覆盖率
sonar.java.coverage.exclusions=**/*Test.java,**/test/**/*,**/integration/**/*,**/*IT.java
sonar.java.coverage.languages=java

# 注释质量
sonar.java.file.suffixes=.java

# 违规严重程度
sonar.scm.disabled=true

# 社区版本支持的规则
sonar.java.coverage.exclusions=**/*Test.java,**/test/**/*,**/integration/**/*,**/*IT.java,**/generated/**/*,**/test/**/*,**/mockito/**/*.java,**/lombok/**/*.java

# 插件项目配置
# Core 模块
sonar.modules=\
  spring-boot3-brick-bootkit-common,\
  spring-boot3-brick-bootkit-loader,\
  spring-boot3-brick-bootkit-core,\
  spring-boot3-brick-bootkit-bootstrap,\
  spring-boot3-brick-bootkit-maven-packager

# 各模块的特定配置
spring-boot3-brick-bootkit-common.sonar.sources=src/main/java
spring-boot3-brick-bootkit-common.sonar.tests=src/test/java

spring-boot3-brick-bootkit-loader.sonar.sources=src/main/java
spring-boot3-brick-bootkit-loader.sonar.tests=src/test/java

spring-boot3-brick-bootkit-core.sonar.sources=src/main/java
spring-boot3-brick-bootkit-core.sonar.tests=src/test/java

spring-boot3-brick-bootkit-bootstrap.sonar.sources=src/main/java
spring-boot3-brick-bootkit-bootstrap.sonar.tests=src/test/java

spring-boot3-brick-bootkit-maven-packager.sonar.sources=src/main/java
spring-boot3-brick-bootkit-maven-packager.sonar.tests=src/test/java

# 技术债务配置
sonar.java.coverage.exclusions=**/*Test.java,**/test/**/*,**/integration/**/*,**/*IT.java,**/generated/**/*,**/mockito/**/*.java,**/lombok/**/*.java,**/*.properties,**/*.xml